/**
 * ASB - Accessibility Settings Bar
 * version 0.5
 * https://github.com/brenonovelli/Accessibility-Settings-Bar
 */
!function(){const t=4,e={btnHighContrast:{active:!0,dataAccessibility:"contrast",class:"setAccessibility",icon:"FontAwesome",iconClass:["fas","fa-adjust"],text:"High contrast"},btnIncFont:{active:!0,dataAccessibility:"incFont",class:"setAccessibility",icon:"A+",iconClass:"",text:"Increase font size"},btnOriFont:{active:!0,dataAccessibility:"oriFont",class:"setAccessibility",icon:"Aa",iconClass:"",text:"Original font size"},btnDecFont:{active:!0,dataAccessibility:"decFont",class:"setAccessibility",icon:"A-",iconClass:"",text:"Shrink font size"},btnReadingLine:{active:!0,dataAccessibility:"readingLine",class:"setAccessibility",icon:"FontAwesome",iconClass:["fas","fa-ruler-horizontal"],text:"Reading line"},btnReset:{active:!0,dataAccessibility:"reset",class:"setAccessibility",icon:"FontAwesome",iconClass:["fas","fa-redo-alt"],text:"Reset"}},s=document.createElement("div");let i;s.id="accessibilityBar",document.body.insertBefore(s,document.body.firstChild),function(){(i=document.createElement("button")).id="universalAccessBtn",i.type="button",i.accessKey=t,s.appendChild(i);const e=document.createElement("i");i.appendChild(e),e.classList.add("fas","fa-universal-access");const n=document.createElement("span"),c=document.createTextNode("Accessibility menu");n.appendChild(c),i.appendChild(n)}(),Object.keys(e).forEach(function(t){e[t].active&&function(t){const e=document.createElement("button");e.type="button",e.classList.add(t.class),e.setAttribute("data-accessibility",t.dataAccessibility),s.appendChild(e);const i=document.createElement("strong");if(e.appendChild(i),"FontAwesome"===t.icon){const e=document.createElement("i");i.appendChild(e),e.classList.add(...t.iconClass)}else{const e=document.createTextNode(t.icon);i.appendChild(e)}const n=document.createTextNode(t.text);e.appendChild(n)}(e[t])});const n=document.documentElement,c=document.body,a=document.querySelectorAll(".setAccessibility");i&&setTimeout(function(){i.classList.add("collapsed")},2e3);const o=document.createElement("div");o.id="readingLine",document.body.insertBefore(o,document.body.firstChild),n.addEventListener("mousemove",function(t){if(c.classList.contains("accessibility_readingLine")){let e=t.pageY-20;document.querySelector("#readingLine").style.top=`${e}px`}}),i.addEventListener("click",()=>s.classList.toggle("active")),a.forEach(t=>t.addEventListener("click",()=>(function(t){switch(t){case"contrast":window.toggleContrast();break;case"incFont":case"oriFont":case"decFont":window.toggleFontSize(t);break;case"readingLine":c.classList.toggle("accessibility_readingLine");break;case"reset":!0===d.currentState&&d.setState(!1),window.toggleFontSize("oriFont"),c.classList.remove("accessibility_readingLine")}s.classList.toggle("active")})(t.dataset.accessibility)));const r=parseFloat(getComputedStyle(document.documentElement).getPropertyValue("font-size"));let l={storage:"fontSizeState",cssClass:"fontSize",currentState:null,check:function(){this.updateView()},getState:function(){return sessionStorage.getItem(this.storage)?sessionStorage.getItem(this.storage):100},setState:function(t){sessionStorage.setItem(this.storage,""+t),this.currentState=t,this.updateView()},toggle:function(t){switch(t){case"incFont":parseFloat(this.currentState)<200?(c.classList.remove(this.cssClass+this.currentState),this.setState(parseFloat(this.currentState)+20)):alert("Font size limit reached");break;case"oriFont":c.classList.remove(this.cssClass+this.currentState),this.setState(100);break;case"decFont":parseFloat(this.currentState)>40?(c.classList.remove(this.cssClass+this.currentState),this.setState(parseFloat(this.currentState)-20)):alert("Font size limit reached")}},updateView:function(){null===this.currentState&&(this.currentState=this.getState());this.currentState&&(n.style.fontSize=this.currentState/100*r+"px"),this.currentState&&c.classList.add(this.cssClass+this.currentState)}};window.toggleFontSize=function(t){l.toggle(t)},l.check();let d={storage:"contrastState",cssClass:"contrast",currentState:null,check:function(){this.updateView()},getState:function(){return"true"===sessionStorage.getItem(this.storage)},setState:function(t){sessionStorage.setItem(this.storage,""+t),this.currentState=t,this.updateView()},toggle:function(){this.setState(!this.currentState)},updateView:function(){null===this.currentState&&(this.currentState=this.getState());this.currentState?c.classList.add(this.cssClass):c.classList.remove(this.cssClass)}};window.toggleContrast=function(){d.toggle()},d.check()}();
